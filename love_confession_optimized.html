<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çˆ±å¿ƒè¡¨ç™½</title>
    <link href="https://fonts.googleapis.com/css2?family=Zhi+Mang+Xing&family=Noto+Serif+SC:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #ffe6f2; /* é»˜è®¤èƒŒæ™¯è‰² */
            font-family: 'Noto Serif SC', 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
            transition: background-color 1s ease; /* èƒŒæ™¯é¢œè‰²è¿‡æ¸¡æ•ˆæœ */
            cursor: pointer; /* æ˜¾ç¤ºç‚¹å‡»æ‰‹åŠ¿ */
        }

        .container {
            text-align: center;
            position: relative;
            z-index: 2;
            padding: 20px;
            background: rgba(255, 255, 255, 0.85); /* åŠé€æ˜ç™½è‰²èƒŒæ™¯ */
            border-radius: 20px; /* åœ†è§’ */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); /* æ›´æŸ”å’Œçš„é˜´å½± */
            backdrop-filter: blur(10px); /* æ¯›ç»ç’ƒæ•ˆæœ */
            max-width: 90%; /* é™åˆ¶æœ€å¤§å®½åº¦ */
        }

        .heart {
            position: relative;
            width: 150px; /* å‡å°å¿ƒå½¢å°ºå¯¸ä»¥é€‚åº”ç§»åŠ¨è®¾å¤‡ */
            height: 135px;
            margin: 0 auto 20px;
            animation: heartbeat 1.5s infiite;
        }

        .heart:before,
        .heart:after {
            content: "";
            position: absolute;
            width: 75px;
            height: 120px;
            background: var(--heart-color, #ff66a3);
            border-radius: 100px 100px 0 0;
        }

        .heart:before {
            left: 75px;
            transform: rotate(-45deg);
            transform-origin: 0 100%;
        }

        .heart:after {
            right: 75px;
            transform: rotate(45deg);
            transform-origin: 100% 100%;
        }

        .message {
            color: #d63384;
            font-size: 24px; /* è°ƒæ•´å­—ä½“å¤§å° */
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1); /* åŠ å¼ºé˜´å½±æ•ˆæœ */
        }

        .confession {
            background: rgba(255, 255, 255, 0.9); /* æ›´é€æ˜ç™½è‰²èƒŒæ™¯ */
            padding: 20px; /* è°ƒæ•´å†…è¾¹è· */
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            max-width: 100%;
            margin: 0 auto;
        }

        .confession p {
            font-size: 16px; /* è°ƒæ•´å­—ä½“å¤§å° */
            line-height: 1.6; /* è°ƒæ•´è¡Œé«˜ */
            color: #555;
            margin: 10px 0; /* è°ƒæ•´æ®µè½é—´è· */
        }

        .signature {
            margin-top: 20px;
            font-style: italic;
            color: #ff66a3;
            font-size: 18px; /* è°ƒæ•´ç­¾åå­—ä½“å¤§å° */
        }

        @keyframes heartbeat {
            0% { transform: scale(1); }
            10% { transform: scale(1.05); }
            20% { transform: scale(1); }
            30% { transform: scale(1.1); }
            40% { transform: scale(1); }
            50% { transform: scale(1.05); }
            60% { transform: scale(1); }
            100% { transform: scale(1); }
        }

        .hearts-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-heart {
            position: absolute;
            color: #ff66a3;
            font-size: 20px;
            opacity: 0;
            animation: float 5s infinite ease-in;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 0.5;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* æ˜Ÿæ˜Ÿé—ªçƒæ•ˆæœ */
        .stars-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle var(--duration, 3s) infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 1; }
        }

        /* å½©å¸¦é£˜è½æ•ˆæœ */
        .ribbons-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .ribbon {
            position: absolute;
            width: 10px;
            height: 30px;
            opacity: 0.7;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
            }
        }

        /* ç²’å­æ•ˆæœæ ·å¼ */
        .particle {
            position: absolute;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            pointer-events: none;
            opacity: 0;
            z-index: 1000;
        }

        /* é“¾æ¥æ ·å¼ */
        .link-container {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .link-text {
            font-size: 16px;
            color: #d63384;
            margin-bottom: 10px;
        }

        .link-url {
            font-size: 14px;
            color: #666;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 5px;
            word-break: break-all;
        }

        /* æç¤ºæ–‡å­—æ ·å¼ */
        .tip {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 14px;
            opacity: 0.7;
            z-index: 100;
        }

        /* åº•éƒ¨åŠŸèƒ½æŒ‰é’®åŒºåŸŸ */
        .button-container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .action-button {
            background: linear-gradient(45deg, #ff66a3, #ff99cc);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 30px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 102, 163, 0.3);
            transition: all 0.3s ease;
            min-width: 100px;
        }

        .action-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(255, 102, 163, 0.4);
        }

        .action-button:active {
            transform: translateY(1px);
        }

        /* ç”œèœœè¯­å¥å¼¹çª—æ ·å¼ */
        .sweet-message-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            z-index: 10000;
            text-align: center;
            max-width: 80%;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        .sweet-message-popup p {
            font-size: 24px;
            color: #d63384;
            margin: 0;
            font-weight: bold;
            font-family: 'Zhi Mang Xing', cursive;
            line-height: 1.4;
        }

        .close-popup {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #ff66a3;
        }

        /* çƒŸèŠ±ç‰¹æ•ˆå®¹å™¨ */
        .fireworks-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
                border-radius: 15px;
            }
            
            .heart {
                width: 120px;
                height: 108px;
            }
            
            .heart:before,
            .heart:after {
                width: 60px;
                height: 96px;
            }
            
            .heart:before {
                left: 60px;
            }
            
            .heart:after {
                right: 60px;
            }
            
            .message {
                font-size: 20px;
            }
            
            .confession {
                padding: 15px;
            }
            
            .confession p {
                font-size: 14px;
            }
            
            .signature {
                font-size: 16px;
            }
            
            .button-container {
                gap: 8px;
            }
            
            .action-button {
                padding: 8px 12px;
                font-size: 12px;
                min-width: 80px;
            }
            
            .sweet-message-popup {
                padding: 15px;
            }
            
            .sweet-message-popup p {
                font-size: 16px;
            }
            
            .tip {
                font-size: 12px;
                padding: 8px 12px;
                bottom: 10px;
                right: 10px;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            .heart {
                width: 100px;
                height: 90px;
            }
            
            .heart:before,
            .heart:after {
                width: 50px;
                height: 80px;
            }
            
            .heart:before {
                left: 50px;
            }
            
            .heart:after {
                right: 50px;
            }
            
            .message {
                font-size: 18px;
            }
            
            .confession p {
                font-size: 13px;
            }
            
            .signature {
                font-size: 14px;
            }
            
            .action-button {
                padding: 6px 10px;
                font-size: 11px;
                min-width: 70px;
            }
            
            .sweet-message-popup p {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="stars-bg" id="starsBackground"></div>
    <div class="ribbons-bg" id="ribbonsBackground"></div>
    <div class="hearts-bg" id="heartsBackground"></div>
    
    <div class="container">
        <div class="heart"></div>
        
        <div class="message">è‡´æˆ‘æœ€çˆ±çš„äºº</div>
        
        <div class="confession">
            <p>ä»é‡è§ä½ çš„é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘çš„ä¸–ç•Œå°±å˜å¾—ä¸ä¸€æ ·äº†ã€‚</p>
            <p>ä½ çš„ç¬‘å®¹å¦‚é˜³å…‰èˆ¬æ¸©æš–ï¼Œç…§äº®äº†æˆ‘å¿ƒä¸­çš„æ¯ä¸€ä¸ªè§’è½ã€‚</p>
            <p>æˆ‘æƒ³å¯¹ä½ è¯´ï¼šå§œåšæ˜¯åˆ˜å†¬ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„å¥‡è¿¹ã€‚</p>
            <p>æ„¿æˆ‘ä»¬æºæ‰‹èµ°è¿‡æ¯ä¸€ä¸ªæ˜¥å¤ç§‹å†¬ï¼Œç›´åˆ°æ°¸è¿œã€‚</p>
            
            <div class="signature">â€”â€” æ°¸è¿œçˆ±ä½ çš„äºº</div>
        </div>

        <div class="link-container">
            <div class="link-text">åˆ†äº«è¿™ä¸ªè¡¨ç™½é¡µé¢ï¼š</div>
            <div class="link-url" id="shareLink">æ­£åœ¨ç”Ÿæˆé“¾æ¥...</div>
        </div>
    </div>

    <!-- åº•éƒ¨åŠŸèƒ½æŒ‰é’® -->
    <div class="button-container">
        <button class="action-button" id="playMusicBtn">ğŸµ æ’­æ”¾éŸ³ä¹</button>
        <button class="action-button" id="changeHeartBtn">â¤ï¸ åˆ‡æ¢å¿ƒå½¢</button>
        <button class="action-button" id="showConfessionBtn">ğŸ’Œ è¡¨ç™½å¼¹çª—</button>
    </div>

    <!-- ç”œèœœè¯­å¥å¼¹çª— -->
    <div class="sweet-message-popup" id="sweetMessagePopup" style="display: none;">
        <span class="close-popup" id="closePopup">&times;</span>
        <p id="sweetMessageText">æˆ‘å–œæ¬¢ä½ ï¼</p>
    </div>

    <!-- çƒŸèŠ±ç‰¹æ•ˆå®¹å™¨ -->
    <div class="fireworks-container" id="fireworksContainer"></div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="backgroundMusic" loop>
        <source src="https://music.163.com/song/media/outer/url?id=139774.mp3" type="audio/mpeg">
        æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
    </audio>

    <!-- æç¤ºæ–‡å­— -->
    <div class="tip">ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®åˆ‡æ¢èƒŒæ™¯é¢œè‰²</div>

    <script>
        // å®šä¹‰æ·¡è‰²ç³»èƒŒæ™¯é¢œè‰²æ•°ç»„
        const backgroundColors = [
            '#ffe6f2', // æ·¡ç²‰è‰²
            '#e6f2ff', // æ·¡è“è‰²
            '#f2e6ff', // æµ…ç´«è‰²
            '#fff2e6', // æ·¡æ©™è‰²
            '#e6fff2', // æ·¡ç»¿è‰²
            '#fff8e6', // æ·¡é»„è‰²
            '#f2e6ff', // æµ…ç´«è‰²
            '#e6f7ff'  // æ·¡é’è‰²
        ];

        // å¯¹åº”èƒŒæ™¯é¢œè‰²çš„ç²’å­é¢œè‰²æ•°ç»„
        const particleColors = [
            ['#ff66a3', '#ff99cc', '#ff6699', '#ff3399', '#ff0066'], // æ·¡ç²‰è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#66a3ff', '#99ccff', '#6699ff', '#3399ff', '#0066ff'], // æ·¡è“è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#a366ff', '#cc99ff', '#9966ff', '#9933ff', '#6600ff'], // æµ…ç´«è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#ff9966', '#ffcc99', '#ff9933', '#ff6600', '#cc6600'], // æ·¡æ©™è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#66cc99', '#99ffcc', '#66cc66', '#33cc99', '#009966'], // æ·¡ç»¿è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#ffcc66', '#ffdd99', '#ffcc33', '#ff9900', '#cc9900'], // æ·¡é»„è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#a366ff', '#cc99ff', '#9966ff', '#9933ff', '#6600ff'], // æµ…ç´«è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
            ['#66cccc', '#99dddd', '#66cccc', '#33bbbb', '#009999']  // æ·¡é’è‰²å¯¹åº”çš„ç²’å­é¢œè‰²
        ];

        let currentColorIndex = 0;

        // è‡ªåŠ¨åˆ‡æ¢èƒŒæ™¯é¢œè‰²ï¼ˆæ¯10ç§’åˆ‡æ¢ä¸€æ¬¡ï¼‰
        setInterval(() => {
            currentColorIndex = (currentColorIndex + 1) % backgroundColors.length;
            document.body.style.background = backgroundColors[currentColorIndex];
        }, 10000);

        // åˆ›å»ºæ¼‚æµ®çš„å¿ƒå½¢èƒŒæ™¯
        function createFloatingHearts() {
            const heartsContainer = document.getElementById('heartsBackground');
            const heartSymbols = ['â¤', 'ğŸ’–', 'ğŸ’—', 'ğŸ’“', 'ğŸ’•', 'ğŸ’˜', 'ğŸ’'];
            
            setInterval(() => {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = heartSymbols[Math.floor(Math.random() * heartSymbols.length)];
                
                // éšæœºä½ç½®å’Œå¤§å°
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
                heart.style.animationDuration = (Math.random() * 3 + 2) + 's';
                heart.style.opacity = Math.random() * 0.5 + 0.3;
                
                heartsContainer.appendChild(heart);
                
                // ç§»é™¤å·²ç»é£˜èµ°çš„å¿ƒ
                setTimeout(() => {
                    heart.remove();
                }, 5000);
            }, 300);
        }

        // åˆ›å»ºé—ªçƒçš„æ˜Ÿæ˜ŸèƒŒæ™¯
        function createStars() {
            const starsContainer = document.getElementById('starsBackground');
            
            // åˆ›å»º50é¢—æ˜Ÿæ˜Ÿ
            for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                // éšæœºä½ç½®ã€å¤§å°å’ŒåŠ¨ç”»å»¶è¿Ÿ
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                star.style.width = (Math.random() * 3 + 1) + 'px';
                star.style.height = star.style.width;
                star.style.setProperty('--duration', (Math.random() * 3 + 2) + 's');
                star.style.animationDelay = (Math.random() * 5) + 's';
                
                starsContainer.appendChild(star);
            }
        }

        // åˆ›å»ºé£˜è½çš„å½©å¸¦èƒŒæ™¯
        function createRibbons() {
            const ribbonsContainer = document.getElementById('ribbonsBackground');
            const ribbonColors = ['#ff66a3', '#66a3ff', '#a366ff', '#ff9966', '#66cc99'];
            
            setInterval(() => {
                const ribbon = document.createElement('div');
                ribbon.className = 'ribbon';
                
                // éšæœºé¢œè‰²ã€ä½ç½®å’ŒåŠ¨ç”»
                ribbon.style.backgroundColor = ribbonColors[Math.floor(Math.random() * ribbonColors.length)];
                ribbon.style.left = Math.random() * 100 + 'vw';
                ribbon.style.animationDuration = (Math.random() * 5 + 5) + 's';
                ribbon.style.opacity = Math.random() * 0.5 + 0.3;
                ribbon.style.transform = `rotate(${Math.random() * 360}deg)`;
                
                ribbonsContainer.appendChild(ribbon);
                
                // ç§»é™¤å·²ç»é£˜è½çš„å½©å¸¦
                setTimeout(() => {
                    ribbon.remove();
                }, 10000);
            }, 200);
        }

        // åˆ›å»ºè·Ÿéšé¼ æ ‡çš„ç²’å­æ•ˆæœ
        function createParticleEffect() {
            let particles = [];
            
            document.addEventListener('mousemove', (e) => {
                // è·å–å½“å‰èƒŒæ™¯å¯¹åº”çš„ç²’å­é¢œè‰²
                const colors = particleColors[currentColorIndex];
                
                // åˆ›å»ºæ–°ç²’å­
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = e.pageX + 'px';
                particle.style.top = e.pageY + 'px';
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.opacity = '1';
                
                document.body.appendChild(particle);
                
                // æ·»åŠ åˆ°ç²’å­æ•°ç»„
                particles.push({
                    element: particle,
                    x: e.pageX,
                    y: e.pageY,
                    size: Math.random() * 5 + 2,
                    speedX: Math.random() * 4 - 2,
                    speedY: Math.random() * 4 - 2,
                    life: 100
                });
                
                // é™åˆ¶ç²’å­æ•°é‡
                if (particles.length > 100) {
                    const oldParticle = particles.shift();
                    if (oldParticle.element.parentNode) {
                        oldParticle.element.parentNode.removeChild(oldParticle.element);
                    }
                }
            });
            
            // åŠ¨ç”»å¾ªç¯
            function animateParticles() {
                for (let i = 0; i < particles.length; i++) {
                    const p = particles[i];
                    
                    // æ›´æ–°ä½ç½®
                    p.x += p.speedX;
                    p.y += p.speedY;
                    p.life -= 1;
                    
                    // æ›´æ–°æ ·å¼
                    p.element.style.left = p.x + 'px';
                    p.element.style.top = p.y + 'px';
                    p.element.style.opacity = p.life / 100;
                    p.element.style.transform = `scale(${p.life / 100})`;
                    
                    // ç§»é™¤æ­»äº¡ç²’å­
                    if (p.life <= 0) {
                        if (p.element.parentNode) {
                            p.element.parentNode.removeChild(p.element);
                        }
                        particles.splice(i, 1);
                        i--;
                    }
                }
                
                requestAnimationFrame(animateParticles);
            }
            
            animateParticles();
        }

        // åˆ›å»ºçƒŸèŠ±ç‰¹æ•ˆ
        function createFireworks(x, y) {
            const container = document.getElementById('fireworksContainer');
            const colors = particleColors[currentColorIndex]; // ä½¿ç”¨å½“å‰èƒŒæ™¯å¯¹åº”çš„ç²’å­é¢œè‰²
            
            // åˆ›å»ºå¤šä¸ªçƒŸèŠ±ç²’å­
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                particle.style.opacity = '1';
                particle.style.width = '4px';
                particle.style.height = '4px';
                
                container.appendChild(particle);
                
                // éšæœºè¿åŠ¨æ–¹å‘å’Œé€Ÿåº¦
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 5 + 2;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                
                // åŠ¨ç”»æ•ˆæœ
                let posX = x;
                let posY = y;
                let life = 100;
                let gravity = 0.05;
                let vyGravity = vy;
                
                function animate() {
                    life -= 1;
                    if (life <= 0) {
                        particle.remove();
                        return;
                    }
                    
                    posX += vx;
                    vyGravity += gravity;
                    posY += vyGravity;
                    
                    particle.style.left = posX + 'px';
                    particle.style.top = posY + 'px';
                    particle.style.opacity = life / 100;
                    particle.style.transform = `scale(${life / 100})`;
                    
                    requestAnimationFrame(animate);
                }
                
                animate();
            }
        }

        // ç”Ÿæˆåˆ†äº«é“¾æ¥
        function generateShareLink() {
            // åœ¨å®é™…éƒ¨ç½²æ—¶ï¼Œè¿™é‡Œåº”è¯¥æ˜¯å®é™…çš„URL
            const shareLink = window.location.href;
            document.getElementById('shareLink').textContent = shareLink || 'è¯·å°†æ­¤æ–‡ä»¶éƒ¨ç½²åˆ°æœåŠ¡å™¨è·å–é“¾æ¥';
        }

        // æ·»åŠ ç”œèœœè¯­å¥æ•°ç»„
        const sweetMessages = [
            "é‡è§ä½ ä¹‹å‰ï¼Œæˆ‘æ²¡æƒ³è¿‡ç»“å©šã€‚é‡è§ä½ ä¹‹åï¼Œæˆ‘æ²¡æƒ³è¿‡åˆ«äººã€‚ä½ æ˜¯æˆ‘çš„å”¯ä¸€ï¼Œæˆ‘çš„å®è´ï¼Œæˆ‘çš„æŒšçˆ±ã€‚",
            "æˆ‘æƒ³å’Œä½ ä¸€èµ·æ…¢æ…¢å˜è€ï¼Œçœ‹éä¸–é—´æ‰€æœ‰çš„é£æ™¯ï¼Œèµ°è¿‡æ˜¥å¤ç§‹å†¬çš„æ¯ä¸€ä¸ªå­£èŠ‚ï¼Œç›´åˆ°ç™½å‘è‹è‹ã€‚",
            "ä½ çš„ç¬‘å®¹æ˜¯æˆ‘æ¯å¤©æœ€å¥½çš„åŠ¨åŠ›ï¼Œä½ çš„æ¸©æŸ”æ˜¯æˆ‘å¿ƒä¸­æœ€æ¸©æš–çš„æ¸¯æ¹¾ï¼Œä½ çš„çˆ±æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€çè´µçš„ç¤¼ç‰©ã€‚",
            "çˆ±ä½ ï¼Œæ˜¯æˆ‘åšè¿‡æœ€å¥½çš„äº‹ã€‚é™ªä¼´ä½ ï¼Œæ˜¯æˆ‘æœ€å¹¸ç¦çš„é€‰æ‹©ã€‚å®ˆæŠ¤ä½ ï¼Œæ˜¯æˆ‘æ­¤ç”Ÿä¸å˜çš„æ‰¿è¯ºã€‚",
            "æ„¿å¾—ä¸€äººå¿ƒï¼Œç™½é¦–ä¸ç›¸ç¦»ã€‚æ„¿æˆ‘ä»¬æºæ‰‹èµ°è¿‡äººç”Ÿçš„æ¯ä¸€ä¸ªé˜¶æ®µï¼Œåˆ†äº«æ¯ä¸€ä»½å–œæ‚¦ä¸å¿§æ„ã€‚",
            "æˆ‘æƒ³å’Œä½ ä¸€èµ·çœ‹éä¸–é—´çš„ç¾æ™¯ï¼Œèµ°è¿‡å±±å·æ¹–æµ·ï¼Œè¸éå¤©æ¶¯æµ·è§’ï¼Œåªè¦æœ‰ä½ åœ¨èº«è¾¹å°±è¶³å¤Ÿäº†ã€‚",
            "ä½ æ˜¯æˆ‘å¿ƒä¸­æœ€äº®çš„é‚£é¢—æ˜Ÿï¼ŒæŒ‡å¼•ç€æˆ‘å‰è¿›çš„æ–¹å‘ã€‚æœ‰ä½ åœ¨èº«è¾¹ï¼Œæ¯ä¸€å¤©éƒ½æ˜¯æƒ…äººèŠ‚ï¼Œæ¯ä¸€åˆ»éƒ½å……æ»¡ç”œèœœã€‚",
            "æˆ‘æ„¿æ„ç”¨ä¸€ç”Ÿçš„æ—¶é—´æ¥å® çˆ±ä½ ï¼Œå‘µæŠ¤ä½ ï¼Œé™ªä¼´ä½ ã€‚ä½ æ˜¯æˆ‘ä»Šç”Ÿå”¯ä¸€çš„æŒšçˆ±ï¼Œæˆ‘çš„å¿ƒä¸­åªæœ‰ä½ ã€‚",
            "ä»é‡è§ä½ çš„é‚£ä¸€åˆ»èµ·ï¼Œæˆ‘çš„ä¸–ç•Œå°±å˜å¾—ä¸ä¸€æ ·äº†ã€‚ä½ çš„å‡ºç°è®©æˆ‘çš„ç”Ÿæ´»å……æ»¡äº†è‰²å½©å’Œå¸Œæœ›ã€‚",
            "ä½ çš„ç¬‘å®¹å¦‚é˜³å…‰èˆ¬æ¸©æš–ï¼Œç…§äº®äº†æˆ‘å¿ƒä¸­çš„æ¯ä¸€ä¸ªè§’è½ã€‚ä½ çš„çˆ±å¦‚ç”˜éœ²èˆ¬æ»‹æ¶¦ï¼Œæ»‹å…»ç€æˆ‘å¹²æ¶¸çš„å¿ƒç”°ã€‚",
            "æˆ‘æƒ³å¯¹ä½ è¯´ï¼šå§œåšæ˜¯åˆ˜å†¬ç”Ÿå‘½ä¸­æœ€ç¾å¥½çš„å¥‡è¿¹ã€‚æ„¿æˆ‘ä»¬çš„çˆ±æƒ…å¦‚ç¾é…’èˆ¬è¶Šé™ˆè¶Šé¦™ï¼Œå¦‚é’»çŸ³èˆ¬æ°¸æ’é—ªè€€ã€‚",
            "åœ¨è¿™ä¸ªä¸–ç•Œä¸Šï¼Œæœ‰åƒä¸‡ç§ç›¸é‡ï¼Œä½†æœ€ç¾çš„é‚£ä¸€ç§ï¼Œå°±æ˜¯ä¸ä½ ç›¸é‡ã€‚æœ‰åƒä¸‡ç§çˆ±æƒ…ï¼Œä½†æœ€æ·±çš„é‚£ä¸€ç§ï¼Œå°±æ˜¯çˆ±ä½ ã€‚",
            "æˆ‘æ„¿æ„æˆä¸ºä½ çš„ä¾é ï¼Œåœ¨ä½ ç–²æƒ«æ—¶ç»™ä½ è‚©è†€ï¼Œåœ¨ä½ è¿·èŒ«æ—¶ä¸ºä½ æŒ‡å¼•ï¼Œåœ¨ä½ å­¤å•æ—¶é™ªä½ åº¦è¿‡æ¯ä¸€ä¸ªå¤œæ™šã€‚",
            "æ—¶å…‰èè‹’ï¼Œå²æœˆå¦‚æ¢­ï¼Œä½†æˆ‘çš„çˆ±æ°¸è¿œä¸ä¼šæ”¹å˜ã€‚æ— è®ºé£é›¨å¦‚ä½•ï¼Œæˆ‘éƒ½ä¼šç´§ç´§æ¡ä½ä½ çš„æ‰‹ï¼Œä¸ä½ å…±åº¦æ­¤ç”Ÿã€‚",
            "ä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾çš„æ„å¤–ï¼Œæœ€çè´µçš„ç¤¼ç‰©ã€‚æ„Ÿè°¢å‘½è¿è®©æˆ‘é‡è§ä½ ï¼Œçˆ±ä¸Šä½ ï¼Œé™ªä¼´ä½ èµ°è¿‡äººç”Ÿçš„æ¯ä¸€æ®µè·¯ç¨‹ã€‚"
        ];

        // æ˜¾ç¤ºéšæœºç”œèœœè¯­å¥å¼¹çª—
        function showSweetMessage() {
            const popup = document.getElementById('sweetMessagePopup');
            const messageText = document.getElementById('sweetMessageText');
            
            // éšæœºé€‰æ‹©ä¸€æ¡ç”œèœœè¯­å¥
            const randomIndex = Math.floor(Math.random() * sweetMessages.length);
            messageText.textContent = sweetMessages[randomIndex];
            
            // æ˜¾ç¤ºå¼¹çª—
            popup.style.display = 'block';
            
            // 3ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
                popup.style.display = 'none';
            }, 3000);
        }

        // å…³é—­å¼¹çª—
        document.getElementById('closePopup').addEventListener('click', () => {
            document.getElementById('sweetMessagePopup').style.display = 'none';
        });

        // æ·»åŠ å¿ƒå½¢æ ·å¼æ•°ç»„
        const heartStyles = [
            {color: '#ff66a3', shadow: '0 0 20px #ff66a3'}, // ç²‰è‰²
            {color: '#ff9900', shadow: '0 0 20px #ff9900'}, // æ©™è‰²
            {color: '#ff3399', shadow: '0 0 20px #ff3399'}, // ç«çº¢è‰²
            {color: '#66ccff', shadow: '0 0 20px #66ccff'}, // è“è‰²
            {color: '#9966ff', shadow: '0 0 20px #9966ff'}  // ç´«è‰²
        ];
        
        let currentHeartStyleIndex = 0;

        // åˆ‡æ¢å¿ƒå½¢æ ·å¼
        function changeHeartStyle() {
            currentHeartStyleIndex = (currentHeartStyleIndex + 1) % heartStyles.length;
            const heart = document.querySelector('.heart');
            const style = heartStyles[currentHeartStyleIndex];
            
            // ä¿®æ”¹å¿ƒå½¢é¢œè‰²
            heart.style.filter = `drop-shadow(${style.shadow})`;
            
            // ä½¿ç”¨CSSå˜é‡æ¥åŠ¨æ€æ”¹å˜é¢œè‰²
            document.documentElement.style.setProperty('--heart-color', style.color);
        }

        // åˆå§‹åŒ–å¿ƒå½¢æ ·å¼
        document.documentElement.style.setProperty('--heart-color', heartStyles[0].color);

        // é¡µé¢ç‚¹å‡»äº‹ä»¶ï¼ˆåˆ›å»ºçƒŸèŠ±å’Œåˆ‡æ¢èƒŒæ™¯ï¼‰
        document.body.addEventListener('click', function(e) {
            // æ£€æŸ¥ç‚¹å‡»çš„å…ƒç´ æ˜¯å¦åœ¨æŒ‰é’®åŒºåŸŸ
            if (!e.target.closest('.button-container') && 
                e.target.id !== 'playMusicBtn' && 
                e.target.id !== 'changeHeartBtn' && 
                e.target.id !== 'showConfessionBtn') {
                // åˆ‡æ¢èƒŒæ™¯é¢œè‰²
                currentColorIndex = (currentColorIndex + 1) % backgroundColors.length;
                document.body.style.background = backgroundColors[currentColorIndex];
                
                // åˆ›å»ºçƒŸèŠ±ç‰¹æ•ˆ
                createFireworks(e.clientX, e.clientY);
            }
        });

        // è§¦æ‘¸äº‹ä»¶ï¼ˆç§»åŠ¨ç«¯æ”¯æŒï¼‰
        document.body.addEventListener('touchstart', function(e) {
            if (e.touches.length > 0) {
                const touch = e.touches[0];
                
                // åˆ‡æ¢èƒŒæ™¯é¢œè‰²
                currentColorIndex = (currentColorIndex + 1) % backgroundColors.length;
                document.body.style.background = backgroundColors[currentColorIndex];
                
                // åˆ›å»ºçƒŸèŠ±ç‰¹æ•ˆ
                createFireworks(touch.clientX, touch.clientY);
            }
        });

        // ç»‘å®šæŒ‰é’®äº‹ä»¶
        document.getElementById('showConfessionBtn').addEventListener('click', showSweetMessage);
        document.getElementById('changeHeartBtn').addEventListener('click', changeHeartStyle);
        document.getElementById('playMusicBtn').addEventListener('click', function() {
            const music = document.getElementById('backgroundMusic');
            const button = document.getElementById('playMusicBtn');
            
            if (music.paused) {
                music.play().then(() => {
                    button.innerHTML = 'â¸ï¸ æš‚åœéŸ³ä¹';
                }).catch(e => {
                    alert('éŸ³ä¹æ’­æ”¾å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–å°è¯•å…¶ä»–æµè§ˆå™¨');
                    console.error('éŸ³ä¹æ’­æ”¾å¤±è´¥:', e);
                });
            } else {
                music.pause();
                button.innerHTML = 'ğŸµ æ’­æ”¾éŸ³ä¹';
            }
        });

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œ
        window.addEventListener('load', () => {
            createFloatingHearts();
            createParticleEffect();
            generateShareLink();
            createStars(); // åˆ›å»ºæ˜Ÿæ˜ŸèƒŒæ™¯
            createRibbons(); // åˆ›å»ºå½©å¸¦èƒŒæ™¯
            
            // å°è¯•è‡ªåŠ¨æ’­æ”¾éŸ³ä¹ï¼ˆå¤§å¤šæ•°æµè§ˆå™¨ä¼šé˜»æ­¢ï¼‰
            const music = document.getElementById('backgroundMusic');
            music.volume = 0.3; // è®¾ç½®éŸ³é‡ä¸º30%
        });
    </script>
</body>
</html>